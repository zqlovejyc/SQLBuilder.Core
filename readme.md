<p></p>

<p align="center">
<img src="data:image/png;base64,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" height="80"/>
</p>

<div align="center">

[![star](https://gitee.com/zqlovejyc/SQLBuilder.Core/badge/star.svg)](https://gitee.com/zqlovejyc/SQLBuilder.Core/stargazers) [![fork](https://gitee.com/zqlovejyc/SQLBuilder.Core/badge/fork.svg)](https://gitee.com/zqlovejyc/SQLBuilder.Core/members) [![GitHub stars](https://img.shields.io/github/stars/zqlovejyc/SQLBuilder.Core?logo=github)](https://github.com/zqlovejyc/SQLBuilder.Core/stargazers) [![GitHub forks](https://img.shields.io/github/forks/zqlovejyc/SQLBuilder.Core?logo=github)](https://github.com/zqlovejyc/SQLBuilder.Core/network) [![GitHub license](https://img.shields.io/badge/license-Apache2-yellow)](https://github.com/zqlovejyc/SQLBuilder.Core/blob/master/LICENSE) [![nuget](https://img.shields.io/nuget/v/Zq.SQLBuilder.Core.svg?cacheSeconds=10800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core)

</div>

<div align="left">

.NET Standard 2.1、.NET 6、.NET 7、.NET 8  版本SQLBuilder，Expression表达式转换为SQL语句，支持SqlServer、MySql、Oracle、Sqlite、PostgreSql；基于Dapper实现了不同数据库对应的数据仓储Repository；

</div>

## 🌭 开源地址

- Gitee：[https://gitee.com/zqlovejyc/SQLBuilder.Core](https://gitee.com/zqlovejyc/SQLBuilder.Core)
- GitHub：[https://github.com/zqlovejyc/SQLBuilder.Core](https://github.com/zqlovejyc/SQLBuilder.Core)
- GitLab：[https://gitlab.com/zqlovejyc/SQLBuilder-Core](https://gitlab.com/zqlovejyc/SQLBuilder-Core)
- NuGet：[https://www.nuget.org/packages/Zq.SQLBuilder.Core](https://www.nuget.org/packages/Zq.SQLBuilder.Core)
- MyGet：[https://www.myget.org/feed/zq-myget/package/nuget/Zq.SQLBuilder.Core](https://www.myget.org/feed/zq-myget/package/nuget/Zq.SQLBuilder.Core)

## 🥥 框架扩展包

| 包类型 | 名称 | 版本 | 描述 |
| :---: | --- | :---: | --- |
| [![nuget](https://shields.io/badge/-Nuget-blue?cacheSeconds=604800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core) | Zq.SQLBuilder.Core | [![nuget](https://img.shields.io/nuget/v/Zq.SQLBuilder.Core.svg?cacheSeconds=10800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core) | SQLBuilder.Core 核心包 |
| [![nuget](https://shields.io/badge/-Nuget-blue?cacheSeconds=604800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core.SkyWalking) | Zq.SQLBuilder.Core.SkyWalking | [![nuget](https://img.shields.io/nuget/v/Zq.SQLBuilder.Core.SkyWalking.svg?cacheSeconds=10800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core.SkyWalking) | SQLBuilder.Core SkyWalking 扩展包 |
| [![nuget](https://shields.io/badge/-Nuget-blue?cacheSeconds=604800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core.ElasticApm) | Zq.SQLBuilder.Core.ElasticApm | [![nuget](https://img.shields.io/nuget/v/Zq.SQLBuilder.Core.ElasticApm.svg?cacheSeconds=10800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core.ElasticApm) | SQLBuilder.Core ElasticApm扩展包 |
| [![nuget](https://shields.io/badge/-Nuget-blue?cacheSeconds=604800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core.Diagnostics) | Zq.SQLBuilder.Core.Diagnostics | [![nuget](https://img.shields.io/nuget/v/Zq.SQLBuilder.Core.Diagnostics.svg?cacheSeconds=10800)](https://www.nuget.org/packages/Zq.SQLBuilder.Core.Diagnostics) | SQLBuilder.Core Diagnostics扩展包 |

## 🚀 快速入门

- #### ➕ 新增

```csharp
//新增
await _repository.InsertAsync(entity);

//批量新增
await _repository.InsertAsync(entities);

//新增
await SqlBuilder
        .Insert<MsdBoxEntity>(() =>
            entity)
        .ExecuteAsync(
            _repository);

//批量新增
await SqlBuilder
        .Insert<MsdBoxEntity>(() =>
            new[]
            {
                new UserInfo { Name = "张三", Sex = 2 },
                new UserInfo { Name = "张三", Sex = 2 }
            })
        .ExecuteAsync(
            _repository);

```

- #### 🗑 删除

```csharp
//删除
await _repository.DeleteAsync(entity);

//批量删除
await _repository.DeleteAsync(entitties);

//条件删除
await _repository.DeleteAsync<MsdBoxEntity>(x => x.Id == "1");

//删除
await SqlBuilder
        .Delete<MsdBoxEntity>()
        .Where(x =>
            x.Id == "1")
        .ExecuteAsync(
            _repository);

//主键删除
await SqlBuilder
        .Delete<MsdBoxEntity>()
        .WithKey("1")
        .ExecuteAsync(
            _repository);
```

- #### ✏ 更新

```csharp
//更新
await _repository.UpdateAsync(entity);

//批量更新
await _repository.UpdateAsync(entities);

//条件更新
await _repository.UpdateAsync<MsdBoxEntity>(x => x.Id == "1", () => entity);

//更新
await SqlBuilder
        .Update<MsdBoxEntity>(() =>
            entity,
            DatabaseType.MySql,
            isEnableFormat:true)
        .Where(x =>
            x.Id == "1")
        .ExecuteAsync(
            _repository);
```
- #### 🔍 查询

```csharp
//简单查询
await _repository.FindListAsync<MsdBoxEntity>(x => x.Id == "1");

//连接查询
await SqlBuilder
        .Select<UserInfo, UserInfo, Account, Student, Class, City, Country>((u, t, a, s, d, e, f) =>
            new { u.Id, UId = t.Id, a.Name, StudentName = s.Name, ClassName = d.Name, e.CityName, CountryName = f.Name })
        .Join<UserInfo>((x, t) =>
            x.Id == t.Id) //注意此处单表多次Join所以要指明具体表别名，否则都会读取第一个表别名
        .Join<Account>((x, y) =>
            x.Id == y.UserId)
        .LeftJoin<Account, Student>((x, y) =>
            x.Id == y.AccountId)
        .RightJoin<Student, Class>((x, y) =>
            x.Id == y.UserId)
        .InnerJoin<Class, City>((x, y) =>
            x.CityId == y.Id)
        .FullJoin<City, Country>((x, y) =>
            x.CountryId == y.Id)
        .Where(x =>
            x.Id != null)
        .ToListAsync(
            _repository);

//分页查询
var condition = LinqExtensions
                    .True<UserInfo, Account>()
                    .And((x, y) => 
                        x.Id == y.UserId)
                    .WhereIf(
                        !name.IsNullOrEmpty(), 
                        (x, y) => name.EndsWith("∞")
                        ? x.Name.Contains(name.Trim('∞'))
                        : x.Name == name);
var hasWhere = false;
await SqlBuilder
        .Select<UserInfo, Account>(
            (u, a) => new { u.Id, UserName = "u.Name" })
        .InnerJoin<Account>(
            condition)
        .WhereIf(
            !name.IsNullOrEmpty(),
            x => x.Email != null && 
            (!name.EndsWith("∞") ? x.Name.Contains(name.TrimEnd('∞', '*')) : x.Name == name),
            ref hasWhere)
        .WhereIf(
            !email.IsNullOrEmpty(),
            x => x.Email == email,
            ref hasWhere)
        .ToPageAsync(
            _repository.UseMasterOrSlave(false),
            input.OrderField,
            input.Ascending,
            input.PageSize,
            input.PageIndex);

//仓储分页查询
await _repository.FindListAsync(condition, input.OrderField, input.Ascending, input.PageSize, input.PageIndex);

//高级查询
Func<string[], string> @delegate = x => $"ks.{x[0]}{x[1]}{x[2]} WITH(NOLOCK)";

await SqlBuilder
        .Select<UserInfo, Account, Student, Class, City, Country>((u, a, s, d, e, f) =>
            new { u, a.Name, StudentName = s.Name, ClassName = d.Name, e.CityName, CountryName = f.Name },
            tableNameFunc: @delegate)
        .Join<Account>((x, y) =>
            x.Id == y.UserId,
            @delegate)
        .LeftJoin<Account, Student>((x, y) =>
            x.Id == y.AccountId,
            @delegate)
        .RightJoin<Class, Student>((x, y) =>
            y.Id == x.UserId,
            @delegate)
        .InnerJoin<Class, City>((x, y) =>
            x.CityId == y.Id,
            @delegate)
        .FullJoin<City, Country>((x, y) =>
            x.CountryId == y.Id,
            @delegate)
        .Where(u =>
            u.Id != null)
        .ToListAsync(
            _repository);

```

- #### 🎫 队列
```csharp
//预提交队列
_repository.AddQueue(async repo =>
    await repo.UpdateAsync<UserEntity>(
        x => x.Id == "1",
        () => new
        {
            Name = "test"
        }) > 0);

_repository.AddQueue(async repo =>
    await repo.DeleteAsync<UserEntity>(x =>
        x.Enabled == 1) > 0);

//统一提交队列，默认开启事务
var res = await _repository.SaveQueueAsync();
```

### 🌌 IOC注入

根据appsettions.json配置自动注入不同类型数据仓储，支持一主多从配置

```csharp
//注入SQLBuilder仓储
services.AddSqlBuilder(Configuration, "Base", (sql, parameter) =>
{
    //写入文本日志
    if (WebHostEnvironment.IsDevelopment())
    {
        if (parameter is DynamicParameters dynamicParameters)
            _logger.LogInformation($@"SQL语句：{sql}  参数：{dynamicParameters
                .ParameterNames?
                .ToDictionary(k => k, v => dynamicParameters.Get<object>(v))
                .ToJson()}");
        else if (parameter is OracleDynamicParameters oracleDynamicParameters)
            _logger.LogInformation($@"SQL语句：{sql} 参数：{oracleDynamicParameters
                .OracleParameters
                .ToDictionary(k => k.ParameterName, v => v.Value)
                .ToJson()}");
        else
            _logger.LogInformation($"SQL语句：{sql}  参数：{parameter.ToJson()}");
    }

    //返回null，不对原始sql进行任何更改，此处可以修改待执行的sql语句
    return null;
});
```

### ⚙ 数据库配置

```csharp
//appsettions.json
"ConnectionStrings": {
  "Base": [
    "Oracle",
    "Data Source=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.1.100)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=name)));Persist Security Info=True;User ID=test;Password=123;",
    "Data Source=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.1.101)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=name)));Persist Security Info=True;User ID=test;Password=123;",
    "Data Source=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.1.102)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=name)));Persist Security Info=True;User ID=test;Password=123;",
  ],
  "Cap": [
    "MySql",
    "Server=127.0.0.1;Database=db;Uid=root;Pwd=123456;SslMode=None;"
  ],
  "Oracle": [ "Oracle", "数据库连接字符串" ],
  "MySql": [ "MySql", "数据库连接字符串" ],
  "Sqlserver": [ "SqlServer", "数据库连接字符串" ],
  "Sqlite": [ "Sqlite", "数据库连接字符串" ],
  "Pgsql": [ "PostgreSql", "数据库连接字符串" ]
}
```


### 📰 事务

```csharp
//方式一
IRepository trans = null;
try
{
    //开启事务
    trans = await _repository.BeginTransactionAsync();

    //数据库写操作
    await trans.InsertAsync(entity);

    //提交事务
    await trans.CommitAsync();
}
catch (Exception)
{
    //回滚事务
    if(trans != null)
        await tran.RollbackAsync();
       
    throw;
}

//方式二
var res = await _repository.ExecuteTransactionAsync(async trans =>
{
    var retval = (await trans.InsertAsync(entity)) > 0;

    if (input.Action.EqualIgnoreCase(UnitAction.InDryBox))
        code = await _unitInfoService.InDryBoxAsync(dryBoxInput);
    else
        code = await _unitInfoService.OutDryBoxAsync(dryBoxInput);

    return code == ErrorCode.Successful && retval;
});
```

### 📯 仓储+切库

```csharp
private readonly Func<string, IRepository> _handler;
private readonly IRepository _repository;

public MyService(Func<string, IRepository> hander)
{
    _handler = hander;

    //默认base数据仓储
    _repository = hander(null);
}

//base仓储
var baseRepository = _handler("Base");

//cap仓储
var capRepository = _handler("Cap");
```

### 🎣 读写分离

```csharp
//方式一
_repository.Master = false;

//方式二
_repository.UseMasterOrSlave(master)
```

### 🔗 链路追踪

```csharp
//注入SQLBuilder SkyWalking链路追踪
services.AddSqlBuilderSkyApm()

//使用SQLBuilder ElasticApm链路追踪
app.UseSqlBuilderElasticApm(Configuration)
```

## 🧪 测试文档

- 单元测试 [https://github.com/zqlovejyc/SQLBuilder.Core/tree/master/SQLBuilder.Core.UnitTest](https://github.com/zqlovejyc/SQLBuilder.Core/tree/master/SQLBuilder.Core.UnitTest)


## 🍻 贡献代码

`SQLBuilder.Core` 遵循 `Apache-2.0` 开源协议，欢迎大家提交 `PR` 或 `Issue`。
